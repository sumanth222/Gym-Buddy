<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton+SC&display=swap" rel="stylesheet">
</head>

<body>
    <mat-toolbar style="background-color: gray;padding-right: 0px;">
        <span class="toolbar-spacer"></span>
        <div class="home-button toolbar-button" style="margin-right: 10px;">
            <p class="home-button-text toolbar-text">Home</p>
        </div>
        <div class="about-button toolbar-button" style="margin-right: 10px;">
            <p class="about-button-text toolbar-text">About</p>
        </div>
        <div class="contact-button toolbar-button" style="margin-right: 10px;">
            <p class="contact-button-text toolbar-text">Contact</p>
        </div>
    </mat-toolbar>

    <div [style.height.px] = "screenHeight" style="overflow-y: scroll;">
        <h1 class="anton-sc-regular tile-text" style="text-align: center; color: white;">Book new session</h1>

        <h2 class="anton-sc-regular tile-text" style="text-align: center; color: white;">1. Select Date and Time</h2>
        <p class="anton-sc-regular tile-text" style="text-align: center; color: white;">When do you want to schedule your session?</p>  
        <form class="session-form">             
        <mat-form-field class="bns">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker" name="date" [(ngModel)] = "date" (dateChange)="dateChanged($event)">
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>

          <p class="anton-sc-regular tile-text" style="text-align: center; color: white;">Choose your session Start time</p>
          <mat-form-field class="bns">
            <mat-label>Session start time</mat-label>
            <mat-select [(value)]="startTime">
              @for (starttime of startTimes; track starttime) {
                <mat-option [value]="starttime" (click) ="populateDuration()">{{starttime}}</mat-option>
              }
            </mat-select>
          </mat-form-field>

          <p class="anton-sc-regular tile-text" style="text-align: center; color: white;">Choose your session End time</p>
          <mat-form-field class="bns">
            <mat-label>Session end time</mat-label>
            <mat-hint style="color: white;">Session duration: {{duration}} hour(s)</mat-hint>
            <mat-select [(value)]="endTime">
              @for (endtime of endTimes; track endtime) {
                <mat-option [value]="endtime" (click) ="populateDuration()">{{endtime}}</mat-option>
              }
            </mat-select>
          </mat-form-field>


          <h2 class="anton-sc-regular tile-text" style="text-align: center; color: white;">2. Session Details</h2>

            <mat-form-field class="bns">
              <mat-label>Gym Location</mat-label>
              <mat-hint style="color: white;">Enter the entire location of the gym, so that trainers near it would accept your request.</mat-hint>
              <textarea matInput placeholder="Entire gym location" name="location" [(ngModel)]="location"></textarea>
            </mat-form-field>
            <br/><br/><br/>

            <mat-form-field class="bns">
              <mat-label>Landmark</mat-label>
              <mat-hint style="color: white;">A nearby landmark</mat-hint>
              <input matInput placeholder="Landmark" name="landmark" [(ngModel)]="landmark"/>
            </mat-form-field>

            <p class="anton-sc-regular tile-text" style="text-align: center; color: white;">Your preferred experience of the trainer</p>
            <mat-form-field class="bns">
              <mat-label>Preferred trainer's experience</mat-label>
              <mat-hint style="color: white;">Rate per hour: {{rates[hintIndex]}}. (Varies based on experience)</mat-hint>
              <mat-select [(value)]="selectedExp">
                @for (exp of experiences; track $index) {
                  <mat-option [value]="exp" (click) ="selectExp($index)">{{exp}}</mat-option>
                }
              </mat-select>
            </mat-form-field>

            <br/><br/><br/>

            <mat-form-field class="bns">
              <mat-label>Description</mat-label>
              <mat-hint style="color: white;">This would help your trainer prepare in advance.</mat-hint>
              <textarea matInput placeholder="Ex: Lower body workout, focusing on calves" name="desc" [(ngModel)]="desc"></textarea>
            </mat-form-field>

            <div class="book-session anton-sc-regular bns" (click) = "requestSession()">
              <span style="margin-top: 45%;color: white;">Request session</span>
          </div>
          </form>
    </div>
</body>